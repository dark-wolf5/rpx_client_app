<div class="log-in-wrapper">
  <p
    class="sb-signUpGeneralInstructions text-uppercase text-center"
    id="sign_up_general_instructions"
    #rpxSignUpIssues
  >
    <span class="rpx-text-gradient">Sign up to earn rewards</span>
  </p>

  <form [formGroup]="signUpFormx">
    <div
      *ngIf="submitted$ | async"
      class="rpx-invalid-feedback rpx-text-gradient rpx-error text-uppercase"
    >
      <div
        *ngIf="
          f.rpxUsername.errors?.required ||
          f.rpxUsername.errors?.emptyUsername
        "
      >
        Username required.
      </div>

      <div *ngIf="f.rpxUsername.errors?.wrongLength">
        Username must be 1 to 35 characters long.
      </div>

      <div *ngIf="f.rpxUsername.errors?.illegalChars">
        Only contain letters, numbers, and underscores.
      </div>

      <div *ngIf="f.rpxUsername.errors?.notUnique">
        Username is already in use.
      </div>
    </div>

    <table class="sb-inputWithIconWrapper">
      <tr>
        <td class="sb-iconInInputWrapper">
          <i class="fa fa-user"></i>
        </td>
        <td>
          <input
            class="sb-input"
            username
            type="text"
            id="rpx_username"
            formControlName="rpxUsername"
            placeholder="USERNAME"
            autocomplete="username"
          />
        </td>
      </tr>
    </table>

    <div
      *ngIf="submitted$ | async"
      class="rpx-invalid-feedback rpx-text-gradient rpx-error text-uppercase"
    >
      <div *ngIf="f.rpxEmail.errors?.required">
        Please enter your email.
      </div>

      <div *ngIf="f.rpxEmail.errors?.email">Invalid email.</div>

      <div *ngIf="f.rpxEmail.errors?.notUnique">
        Email is already in use.
      </div>

      <div *ngIf="f.rpxEmail.errors?.emailTaken">
        Email is already in use.
      </div>
    </div>

    <div *ngIf="f.rpxEmail.errors">
      <div
        class="rpx-invalid-feedback text-uppercase rpx-text-gradient rpx-error mb-2"
        *ngIf="f.rpxEmail.errors.wrongAccountType"
      >
        <span> Log-in using SB Business app. </span>
      </div>

      <div
        class="rpx-invalid-feedback text-uppercase rpx-text-gradient rpx-error mb-2"
        *ngIf="f.rpxEmail.errors.rpxAccount"
      >
        You signed up with an email address.
      </div>
    </div>

    <table class="sb-inputWithIconWrapper">
      <td class="sb-iconInInputWrapper">
        <i class="fa fa-envelope"></i>
      </td>
      <td>
        <input
          class="sb-input"
          (keyup)="removeWhiteSpace('rpxEmail')"
          type="text"
          id="user_email"
          formControlName="rpxEmail"
          placeholder="EMAIL"
          autocomplete="email"
        />
      </td>
    </table>

    <div
      *ngIf="submitted$ | async"
      class="rpx-invalid-feedback rpx-text-gradient rpx-error text-uppercase"
    >
      <div *ngIf="f.rpxPassword.errors?.required">
        Please provide a password.
      </div>

      <div *ngIf="f.rpxPassword.errors?.wrongLength">
        Password must be 1 to 15 characters long.
      </div>

      <div *ngIf="f.rpxPassword.errors?.oneNumber">
        Password must contain at least one number (0-9)!
      </div>

      <div *ngIf="f.rpxPassword.errors?.oneLowerCase">
        Password must contain at least one lowercase letter (a-z)!
      </div>

      <div *ngIf="f.rpxPassword.errors?.oneUpperCase">
        Password must contain at least one uppercase letter (A-Z)!
      </div>
    </div>

    <table class="sb-inputWithIconWrapper">
      <td class="sb-iconInInputWrapper">
        <i class="fa fa-lock"></i>
      </td>
      <td>
        <input
          class="sb-input"
          [type]="(passwordShow$ | async) === false ? 'password' : 'text'"
          formControlName="rpxPassword"
          id="user_pass"
          autocomplete="new-password"
          placeholder="PASSWORD"
        />
        <fa-icon
          class="fa-eye"
          [icon]="faEye"
          (click)="togglePassword()"
          *ngIf="(passwordShow$ | async) === false"
        ></fa-icon>
        <fa-icon
          class="fa-eye"
          [icon]="faEyeSlash"
          (click)="togglePassword()"
          *ngIf="passwordShow$ | async"
        ></fa-icon>
      </td>
    </table>
  </form>

  <p class="ion-padding rpx-login-terms rpx-text-link text-uppercase">
    By Signing Up, you are agreeing to
    <span (click)="openTerms()">OUR TERMS & PRIVACY POLICY.</span>
  </p>

  <button class="btn rpx-button rpx-padding" (click)="initSignUp()">
    SIGN UP
  </button>

  <div
    class="rpx-rel-div rpx-padding rpx-text-link"
    (click)="logIn()"
  >
    LOGIN NOW
  </div>

  <div class="sb-logo mt-3 mb-5"></div>
</div>
